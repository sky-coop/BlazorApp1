@page "/logout"
@inject IHttpContextAccessor HttpContextAccessor
@inject NavigationManager Navigation

@code {
    protected override void OnInitialized()
    {
        var context = HttpContextAccessor.HttpContext;
        if (context is not null)
        {
            BlazorApp1.Session.UsersState.Logout(context);
        }

        // 重定向到主页，forceLoad = true 表示刷新整个页面，确保 Cookie 更新生效
        Navigation.NavigateTo("/", true);
    }
}